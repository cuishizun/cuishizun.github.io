<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>单行读文本</title>
</head>

<body>
    <input type="text" id="input">
    <input type="button" onclick="saveText();" value="存数据">
    <ul></ul>

    <script src="jquery-3.3.1.min.js"></script>
    <script>
        let inputdata;
        $.ajax({
            url: 'a.json',
            type: 'GET',
            dataType: 'json',
            data: '',
            success: function (data) {
                for (let i = 0; i < data.length; i++) {
                    $('ul').append(`<li>${data[i].a}</li>`);
                }
                inputdata = data;
            }
        });

        function saveText() {
            debugger;
            try {
                var fso, tf;
                fso = new ActiveXObject("Scripting.FileSystemObject");
                tf = fso.CreateTextFile("https://cuishizun.github.io/self_entertainment/a.json",
                    true);
                tf.WriteLine("[");
                for (let i = 0; i < inputdata.length; i++) {
                    tf.WriteLine(`{"a":${inputdata.a[i]}},`);
                }
                tf.WriteLine(`{"a":${$('#input').val()}}`);
                // 写一行。
                tf.Write("]");
                tf.Close();
            } catch (e) {
                alert('请换用IE浏览器');
                return;
            }
        }
    </script>
</body>

</html>